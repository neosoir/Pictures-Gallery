!function($){"use strict";var $precargador=$(".precargador"),urledit="?page=bcpg&action=edit&id=",idTable=$("#idTable").val(),marco;function limpiarEnlace(url){var local;if(/localhost/.test(url)){var url_pathname=location.pathname,indexPos=url_pathname.indexOf("wp-admin"),url_pos=url_pathname.substr(0,indexPos),url_delete=location.protocol+"//"+location.host+url_pos;return url_pos+url.replace(url_delete,"")}var url_real=location.protocol+"//"+location.hostname;return url.replace(url_real,"")}function validarCamposVacios(selector){var $inputs=$(selector),result=!1;return $.each($inputs,(function(k,v){var $input=$(v),inputVal;""==$input.val()&&"file"!=$input.attr("type")&&($input.hasClass("invalid")||$input.addClass("invalid"),result=!0)})),!!result}function validarEmail(email){var er;return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(email)}function quitarInvalid(selector){var $inputs=$(selector);$.each($inputs,(function(k,v){var $input=$(v);$input.hasClass("invalid")?$input.removeClass("invalid"):$input.hasClass("active")&&$input.removeClass("active")}))}$(".modal").modal(),$("select").material_select(),$(".addbcpg").on("click",(function(e){e.preventDefault(),$("#addbcpg").modal("open")}));var $type=$("#type"),type_val=null,$select=$(".select-dropdown");$type.on("change",(function(){type_val=$(this).val(),$select.hasClass("invalid")&&($select.removeClass("invalid"),$select.addClass("valid")),console.log(type_val)})),$("#crear-bcpg").on("click",(function(e){e.preventDefault();var $nombre=$("#nombre-bcpg"),nv=$nombre.val();$precargador.css("display","flex"),""==nv?($precargador.css("display","none"),$nombre.hasClass("invalid")||$nombre.addClass("invalid")):null==type_val||""==type_val?($precargador.css("display","none"),$select.hasClass("invalid")||($select.addClass("invalid"),$select.removeClass("valid"))):$.ajax({url:bcpg.url,type:"POST",dataType:"json",data:{action:"bcpg_crud_gallery",nonce:bcpg.seguridad,nombre:nv,type_val:type_val,tipo:"add"},success:function(data){data.result&&(urledit+=data.insert_id,setTimeout((function(){location.href=urledit}),1300))},error:function(d,x,v){console.log(d),console.log(x),console.log(v)}})}))}(jQuery);